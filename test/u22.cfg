# Unit test configuration file for MessageLogger service:
#   By-severity limit on a type of message, 
#   and specific-category override of that default,
#   in presence of overall (non-specific category) default for the destination.
#   The severity-specific limit should hold of the default limit.

# This unit test is not yet in the canonical form

process TEST = {
  include "FWCore/Framework/test/cmsExceptionsFatal.cff"
  untracked PSet maxEvents = {untracked int32 input = 2}
  service = MessageLogger {
    
    untracked
    vstring destinations = { "u21_warnings"
			   , "u21_infos"
			   }

    untracked 
    vstring categories = { "preEventProcessing"
    			  ,"FwkJob"
			  ,"importantInfo"
			  ,"routineInfo"
    			 }

    untracked
    PSet default = {
    	untracked  PSet FwkJob = { untracked int32 limit = 0 }
    		   }
    untracked 
    PSet u21_warnings = { untracked bool noTimeStamps = true  
                         untracked string threshold  = "INFO"
			 untracked PSet INFO = 
			   { untracked int32 limit = 0  }
			 untracked PSet default = 
			   { untracked int32 limit = 1000  }
			 untracked PSet importantInfo = 
			   { untracked int32 limit = -1 }
			 untracked PSet preEventProcessing = { untracked int32 limit    = 0 }
			 untracked PSet FwkJob             = { untracked int32 limit    = 0 }
		       }
			      
    untracked 
    PSet u21_infos    = { untracked bool noTimeStamps = true  
                         untracked string threshold  = "INFO"    
			 untracked PSet preEventProcessing = { untracked int32 limit    = 0 }
			 untracked PSet FwkJob             = { untracked int32 limit    = 0 }
		       }  
			    
  }

  path p = { sendSomeMessages }

  module sendSomeMessages = UnitTestClient_O { }

  source = EmptySource { }
}
