# Unit test configuration file for MessageLogger service:
# Behavior when duplicate file names are supplied.

process TEST = {
  include "FWCore/Framework/test/cmsExceptionsFatal.cff"
  untracked PSet maxEvents = {untracked int32 input = 2}
  service = MessageLogger {
    
    untracked
    vstring destinations = { "u24_warnings"
			   , "u24_errors"
			   }

    untracked 
    vstring debugModules = { "*" }

    untracked 
    vstring categories = { "preEventProcessing"
    			  ,"FwkJob" }

    untracked
    PSet default = {
    		      untracked PSet FwkJob = { untracked int32 limit    = 0 }
		   }    

# produce file u24.log
    untracked 
    PSet u24_errors   = { untracked string filename = "u24"
    			  untracked string extension = "log"     			     
    			  untracked bool noTimeStamps = true   
                          untracked string threshold  = "ERROR"   
			}

# produce SAME file u24.log via warnings config - should be ignored!
    untracked 
    PSet u24_warnings = { untracked string filename = "u24"
    			  untracked string extension = "log"     			     
    			  untracked bool noTimeStamps = true   
                          untracked string threshold  = "WARNING"   
			}
			      
  }

  include "FWCore/Services/data/InitRootHandlers.cfi"
  
  path p = { sendSomeMessages }

  module sendSomeMessages = UnitTestClient_A { }

  source = EmptySource { }
}
