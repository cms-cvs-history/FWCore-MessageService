# Unit test configuration file for MessageLogger service
# Uses include MessageLogger.cfi and rather little else

process TEST = {
  untracked PSet maxEvents = {untracked int32 input = 1}
  include "FWCore/Framework/test/cmsExceptionsFatal.cff"
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  replace MessageLogger.destinations  = { "warnings", "infos" }
  replace MessageLogger.statistics    = { "warnings", "infos" }
  replace MessageLogger.fwkJobReports = { "job_report" }

			 
  replace MessageLogger.default       = {
                                          untracked bool noTimeStamps = false
			      		  untracked PSet FwkJob             = { untracked int32 limit    = 0 }
                                          untracked int32 limit = -1
                                         }

  replace MessageLogger.warnings = {
                                     untracked string threshold = "WARNING"
                                     untracked PSet default = { untracked int32 limit = 3 }
                                     untracked bool noTimeStamps = true
                                   }

  replace MessageLogger.infos =    {
                                     untracked PSet default = { untracked int32 limit = 2 }
			      	     untracked PSet FwkJob             = { untracked int32 limit    = 0 }
				     untracked bool noTimeStamps = true
                                   }

  include "FWCore/Services/data/InitRootHandlers.cfi"
  
  path p = { sendSomeMessages }

  module sendSomeMessages = UnitTestClient_G { }

  source = EmptySource { }
}
