# Unit test configuration file for MessageLogger service:
# statistics destination :  tests reset versus no reset
# behavior when multiple statistics summaries are triggered

process TEST = {
  include "FWCore/Framework/test/cmsExceptionsFatal.cff"
  untracked PSet maxEvents = {untracked int32 input = 3}
  service = MessageLogger {
    
    untracked
    vstring destinations = { "u5_errors"
			   }

    untracked
    vstring statistics = { 
    			    "u5_default"
			  , "u5_reset" 
			  , "u5_noreset" 
			 }

    untracked
    vstring categories = { "preEventProcessing" }
			      
    untracked
    PSet u5_errors   = {untracked  bool noTimeStamps = true  
                              untracked string threshold  = "ERROR"    
			      untracked PSet preEventProcessing = { untracked int32 limit    = 0 }
			    }  
			    
    untracked
    PSet u5_reset    = { untracked bool reset = true  }
    untracked
    PSet u5_noreset  = { untracked bool reset = false }
  }


  include "FWCore/Services/data/InitRootHandlers.cfi"
  
  path p = { sendSomeMessages }

  module sendSomeMessages = UnitTestClient_B { }

  source = EmptySource {}
}
