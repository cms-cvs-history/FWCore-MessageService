# Unit test configuration file for MessageLogger service:
# threshold levels for destinations
# limit=0 for a category (needed to avoid time stamps in files to be compared)
# enabling all (*) LogDebug, with one destination responding
# verify that by default, the threshold for a destination is INFO

process TEST = {
  include "FWCore/Framework/test/cmsExceptionsFatal.cff"
  untracked PSet maxEvents = {untracked int32 input = 2}
  service = MessageLogger {
    
    untracked
    vstring destinations = { "u17_all"
			   }

    untracked 
    vstring categories = { "cat_P"
    			  ,"cat_S" 
			  ,"FwkJob"
			 }

    untracked 
    PSet u17_all   = { untracked bool noTimeStamps = true      
	               untracked PSet cat_P = { 
		         untracked int32 limit    = 2 
		       }
	               untracked PSet cat_S = { 
		         untracked int32 limit    = 2 
		       }
	               untracked PSet FwkJob = {  untracked int32 limit = 0 }
		     }
			      
   }

  include "FWCore/Services/data/InitRootHandlers.cfi"
  
  path p = { sendSomeMessages }

  module sendSomeMessages = UnitTestClient_K { }

  source = EmptySource { }
}
