# Unit test configuration file for MessageLogger service:
# statistics destination :  name not matching any destination; 
# no PSet configuring it specially

process TEST = {
  include "FWCore/Framework/test/cmsExceptionsFatal.cff"
  service = MessageLogger {
    
    untracked 			    
    vstring destinations = { "u4_errors"
			   }

    untracked 			    
    vstring statistics = { 
    			    "u4_statistics"
			  , "anotherStats" 
			  , "u4_errors" 
			 }

    untracked 			    
    vstring categories = { "preEventProcessing" }
			      
    untracked 			    
    PSet u4_errors   = { untracked bool noTimeStamps = true  
                              untracked string threshold  = "ERROR"    
			      untracked PSet preEventProcessing = { untracked int32 limit    = 0 }
			    }  
    untracked 			    
    PSet anotherStats        = { untracked string output = "u4_another" }
    untracked 			    
    PSet u4_statistics  = { untracked string threshold  = "WARNING"   }
  }

# Tell AdaptorConfig to suppress the statistics summary.  We aren't actually using
# that service and it's summary interferes with the MessageLogger summary.
  service = AdaptorConfig
  {
    untracked
    bool Stats = false
  }

  include "FWCore/Services/data/InitRootHandlers.cfi"
  
  path p = { sendSomeMessages }

  module sendSomeMessages = UnitTestClient_A { }

  source = EmptySource {untracked int32 maxEvents = 3}
}
