# Unit test configuration file for MessageLogger service:
# threshold levels for destinations
# limit=0 for a category (needed to avoid time stamps in files to be compared)
# enabling all (*) LogDebug, with one destination responding
# verify that by default, the threshold for a destination is INFO

process TEST = {
  include "FWCore/Framework/test/cmsExceptionsFatal.cff"
  untracked PSet maxEvents = {untracked int32 input = 2}
  service = MessageLogger {
    
    untracked
    vstring destinations = { "u1_warnings"
			   , "u1_errors"
			   , "u1_infos"
			   , "u1_debugs"
			   , "u1_default"
			   }

    untracked 
    vstring fwkJobReports = { "u1_job_report.mxml" }

    untracked 
    vstring debugModules = { "*" }

    untracked 
    vstring categories = { "preEventProcessing"
    			  ,"FwkJob"
    			 }

    untracked 
    PSet u1_errors   = { untracked bool noTimeStamps = true      
                              untracked string threshold  = "ERROR"   
			    }
			      
    untracked 
    PSet u1_warnings = { untracked bool noTimeStamps = true  
                              untracked string threshold  = "WARNING" 
			    }
			      
    untracked 
    PSet u1_infos    = { untracked bool noTimeStamps = true  
                              untracked string threshold  = "INFO"    
			      untracked PSet preEventProcessing = { untracked int32 limit    = 0 }
			      untracked PSet FwkJob             = { untracked int32 limit    = 0 }
			    }  
			    
    untracked 
    PSet u1_debugs   = {untracked  bool noTimeStamps = true   
                              untracked string threshold  = "DEBUG"   
			      untracked PSet preEventProcessing = { untracked int32 limit    = 0 }
			      untracked PSet FwkJob             = { untracked int32 limit    = 0 }
			    }
				
    untracked 
    PSet u1_default  = { untracked bool noTimeStamps = true         
			      untracked PSet preEventProcessing = { untracked int32 limit    = 0 }
			      untracked PSet FwkJob             = { untracked int32 limit    = 0 }
			    }
  }

  include "FWCore/Services/data/InitRootHandlers.cfi"
  
  path p = { sendSomeMessages }

  module sendSomeMessages = UnitTestClient_A { }

  source = EmptySource { }
}
