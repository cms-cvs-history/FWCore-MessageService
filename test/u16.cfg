# Unit test configuration file for MessageLogger service:
# Explicit extensions and filenames, in normal distinations,
# statistics, and job reports.

process TEST = {
  include "FWCore/Framework/test/cmsExceptionsFatal.cff"
  service = MessageLogger {
    
    untracked
    vstring destinations = { "u16_warnings"
			   , "u16_errors"
			   , "u16_infos"
			   , "u16_debugs"
			   , "u16_default"
			   }

    untracked 
    vstring fwkJobReports = { "u16_job_report" }

    untracked 
    vstring debugModules = { "*" }

    untracked 
    vstring categories = { "preEventProcessing"
    			  ,"FwkJob" }

    untracked
    PSet default = {
    		      untracked PSet FwkJob = { untracked int32 limit    = 0 }
		   }    

# produce file u16_errors.mmlog
    untracked 
    PSet u16_errors   = { untracked bool noTimeStamps = true   
    			  untracked string extension = "mmlog"     			     
                          untracked string threshold  = "ERROR"   
			}
			      
# produce file u16_altWarnings.log
    untracked 
    PSet u16_warnings = { untracked string filename = "u16_altWarnings" 
    			  untracked bool noTimeStamps = true  
                          untracked string threshold  = "WARNING" 
			}
			      
# produce file u16_infos.mmlog
    untracked 
    PSet u16_infos    = { untracked string extension = ".mmlog" 
    			  untracked bool noTimeStamps = true  
                          untracked string threshold  = "INFO"    
			  untracked PSet preEventProcessing = { untracked int32 limit    = 0 }
			    }  
			    
# produce file u16_altDebugs.mmlog
    untracked 
    PSet u16_debugs   = { untracked string filename = "u16_altDebugs"
    			  untracked string extension = "mmlog"  
    			  untracked  bool noTimeStamps = true   
                          untracked string threshold  = "DEBUG"   
			  untracked PSet preEventProcessing = { untracked int32 limit    = 0 }
			    }
				
# produce file u16_default.log
    untracked 
    PSet u16_default  = { untracked bool noTimeStamps = true         
			  untracked PSet preEventProcessing = { untracked int32 limit    = 0 }
			}

# put stats into u16_errors.mmlog and another file
    untracked 			    
    vstring statistics = { 
    			    "u16_statistics"
			  , "u16_errors" 
			 }

# produce file u16_statistics.mslog
    untracked 
    PSet u16_statistics   = { untracked string extension = "mslog" 
    			      untracked bool noTimeStamps = true      
                              untracked string threshold  = "WARNING"   
			    }

# produce file u16_job_report.mmxml
    untracked 
    PSet u16_job_report   = { untracked string extension = "mmxml"  
    			    }

  }

  include "FWCore/Services/data/InitRootHandlers.cfi"
  
  path p = { sendSomeMessages }

  module sendSomeMessages = UnitTestClient_A { }

  source = EmptySource {untracked int32 maxEvents = 2}
}
