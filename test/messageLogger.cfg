# Configuration file for MessageLogger service

process TEST = {
  include "FWCore/Framework/test/cmsExceptionsFatal.cff"
  service = MessageLogger {

    untracked
    vstring destinations = { "detailedInfo"
			   , "critical"
#			   , "cout"
#			   , "cerr"
			   }
    untracked
    vstring fwkJobReports = { "anotherfile" }

    untracked
    vstring messageIDs = { "unimportant"
			 , "trkwarning"
                         }
    untracked
    PSet default = { untracked int32 limit    = 100
                     untracked int32 timespan =  60
		   }

    untracked
    vstring categories = { "postBeginJob" }

    untracked
    PSet anotherfile = { untracked PSet postBeginJob = { untracked int32 limit = 0} }
    
    untracked
    PSet critical = { untracked string threshold = "ERROR" }

    untracked
    PSet detailedInfo = { untracked string threshold = "DEBUG"
			  untracked PSet INFO = { untracked int32 timespan = 1000 }
			  untracked PSet default = { untracked int32 limit = 10
                                                     untracked int32 timespan = 600 }
			  untracked PSet trkwarning =  { untracked int32 limit    = 100
			                                 untracked int32 timespan =  30
					               }
			      untracked PSet unimportant = { untracked int32 limit = 5 }
                        }
    untracked
    PSet cerr     = { untracked string threshold = "WARNING" }

    untracked
    vstring debugModules = { "sendSomeMessages" }
  }

  include "FWCore/Services/data/InitRootHandlers.cfi"
  
  path p = { sendSomeMessages }
  endpath e = { print,print2 }

  module sendSomeMessages = MessageLoggerClient { }

  module print = AsciiOutputModule { }
  module print2 = AsciiOutputModule { }

  source = EmptySource {untracked int32 maxEvents = 2}
}
