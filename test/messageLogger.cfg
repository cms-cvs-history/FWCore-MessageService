# Configuration file for MessageLogger service

process TEST = {
  include "FWCore/Framework/test/cmsExceptionsFatal.cff"
  service = MessageLogger {
    vstring destinations = { "detailedInfo"
			   , "critical"
#			   , "cout"
#			   , "cerr"
			   }
    vstring fwkJobReports = { "anotherfile" }
    vstring messageIDs = { "unimportant"
			 , "trkwarning"
                         }
    PSet default = { int32 limit    = 100
                     int32 timespan =  60
		   }

    vstring categories = { "postBeginJob" }

    PSet anotherfile = { PSet postBeginJob = {int32 limit = 0} }
    
    PSet critical = { string threshold = "ERROR" }

    PSet detailedInfo = { string threshold = "DEBUG"
			      PSet INFO = { int32 timespan = 1000 }
			      PSet default = { int32 limit    =  10
					       int32 timespan = 600
					     }
			      PSet trkwarning =  { int32 limit    = 100
			                           int32 timespan =  30
						 }
			      PSet unimportant = { int32 limit = 5 }
                            }
    PSet cerr     = { string threshold = "WARNING" }
    vstring debugModules = { "sendSomeMessages" }
  }

  include "FWCore/Services/data/InitRootHandlers.cfi"
  
  path p = { sendSomeMessages }
  endpath e = { print,print2 }

  module sendSomeMessages = MessageLoggerClient { }

  module print = AsciiOutputModule { }
  module print2 = AsciiOutputModule { }

  source = EmptySource {untracked int32 maxEvents = 2}
}
