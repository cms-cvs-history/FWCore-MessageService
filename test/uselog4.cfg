# Configuration file for MessageLogger service

process TEST = {
  include "FWCore/Framework/test/cmsExceptionsFatal.cff"

  service = MLlog4cplus { } 

  service = MessageLogger {
    vstring destinations = { "detailedInfo"
			   , "critical"
			   }
    vstring messageIDs = { "unimportant"
			 , "trkwarning"
                         }
    PSet default = { int32 limit    = 100
                     int32 timespan =  60
		   }

    PSet critical = { string threshold = "ERROR" }

    PSet detailedInfo = { string threshold = "INFO"
			      PSet INFO = { int32 timespan = 1000 }
			      PSet default = { int32 limit    =  10
					       int32 timespan = 600
					     }
			      PSet trkwarning =  { int32 limit    = 100
			                           int32 timespan =  30
						 }
			      PSet unimportant = { int32 limit = 5 }
                            }
  }

  include "FWCore/Services/data/InitRootHandlers.cfi"

  path p = { sendSomeMessages,sendlog4 }
  endpath e = { print }

  module print = AsciiOutputModule { }
  module sendSomeMessages = MessageLoggerClient { }
  module sendlog4 = Uselog4 { }
  module print2 = AsciiOutputModule { }

  source = EmptySource {untracked int32 maxEvents = 1}
}
